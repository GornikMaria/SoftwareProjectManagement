- **Статус:** Принято
    
- **Дата:** 2025-02-18
    

**1. Контекст и постановка проблемы:**

Необходимо определить, как будет организовано взаимодействие между клиентскими приложениями (веб-приложение, Telegram-бот, приложение для кухни, админ-панель) и серверной частью системы "TL Food". Это взаимодействие включает в себя:

- Получение списка блюд (с фильтрацией и сортировкой).
    
- Оформление заказа.
    
- Управление настройками автозаказа.
    
- Управление избранным.
    
- Получение уведомлений.
    
- Взаимодействие с Telegram-ботом (регистрация, отправка команд).
    
- Идентификация пользователей на кухне (через Face Recognition Service).
    
- Получение отчётов.
    
- Управление пользователями и меню (админ-панель)
    

Требования к взаимодействию:

- **Надежность (REL01):** Взаимодействие должно быть надежным, с гарантированной доставкой запросов и ответов (или с механизмами повторных попыток).
    
- **Безопасность (SEC01, SEC02, SEC03, SEC04):** Взаимодействие должно быть защищенным (аутентификация, авторизация, шифрование данных).
    
- **Производительность (PER02, PER03, PER04, PER05, PER06):** Взаимодействие должно быть достаточно быстрым, чтобы не вызывать задержек в работе клиентских приложений.
    
- **Масштабируемость (SCA01):** Архитектура должна позволять масштабировать серверную часть для обработки увеличивающегося количества запросов.
    
- **Простота разработки и поддержки (MAI01, MAI02, MAI03):** Архитектурный стиль должен быть простым в реализации и поддержке, с учетом того, что проект разрабатывается студентами.
    
- **Гибкость (EXT01):** Архитектура должна обеспечивать гибкость для добавления новых типов клиентов в будущем (например, мобильное приложение).
    

**2. Рассматриваемые варианты (с кратким описанием преимуществ и недостатков):**

(Текст из предыдущего варианта - без изменений)

**3. Решение:**

Использовать **RESTful API (Вариант 1)**.

**4. Обоснование решения:**

RESTful API является оптимальным выбором для данного проекта, так как обеспечивает баланс между простотой, функциональностью и соответствием архитектурным требованиям:

- **Соответствие архитектурным факторам:**
    
    - **Простота и распространенность (MAI01, MAI02):** Ключевые факторы для студенческого проекта. REST легко понять и реализовать, для него существует множество инструментов и библиотек.
        
    - **Достаточная функциональность:** RESTful API позволяет реализовать все необходимые сценарии взаимодействия между клиентами и сервером.
        
    - **Масштабируемость (SCA01):** RESTful API хорошо масштабируются за счет stateless-взаимодействия и кэширования.
        
    - **Гибкость (EXT01):** RESTful API позволяет легко добавлять новые типы клиентов в будущем.
        
    - **Безопасность (SEC01, SEC02, SEC03, SEC04):** RESTful API позволяет легко использовать стандарные механизмы безопасности.
        
    - **Производительность (PER):** При адекватной реализации удовлетворяют требованиям к производительности
        
- **Минимизация недостатков:**
    
    - Потенциальная неоптимальность для сложных сценариев и избыточность данных можно минимизировать с помощью:
        
        - Тщательного проектирования API (гранулярные ресурсы, использование HATEOAS).
            
        - Кэширования (на стороне клиента и сервера).
            
        - Использования пагинации (pagination) для больших списков данных.
            
        - Использования DTO для отправки данных с бэкэнда
            

GraphQL и gRPC являются более сложными технологиями, которые могут быть избыточными для данного проекта. SOAP считается устаревшим и не рекомендуется для новых разработок

**5. Последствия:**

- Архитектура: Выбранный архитектурный стиль (REST) обеспечит четкое разделение ответственности между клиентскими приложениями и серверной частью.
    
- Разработка: Команда сможет использовать существующие знания и инструменты для разработки RESTful API.
    
- Масштабируемость: Система сможет обрабатывать возрастающую нагрузку.
    

**6. Риски:**
- **(Неоптимальность для сложных сценариев):** В некоторых случаях может потребоваться много запросов к API для получения нужных данных, что снизит производительность.
    
    - Смягчение: Тщательное проектирование API (использование гранулярных ресурсов, HATEOAS), агрегация данных на стороне сервера (если это возможно), использование DTO.
- **(Недостаточная скорость ответа):** Потенциально, сервер может медленно отвечать на запросы
    
    - Смягчение: Индексация БД, кеширование