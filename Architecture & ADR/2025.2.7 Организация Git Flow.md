
**1. Контекст и постановка проблемы:**

Необходимо определить стратегию ветвления (Git flow) для проекта "TL Food". Нужен подход, который:

- Обеспечивает удобную совместную работу команды разработчиков (студентов).
- Позволяет вести разработку нескольких функций параллельно.
- Обеспечивает стабильность production-версии системы.
- Минимизирует риски потери кода и конфликтов при слиянии.
- Подходит для итеративной разработки (с частыми релизами MVP).
- Достаточно прост в использовании для начинающих разработчиков.

**2. Рассматриваемые варианты:**

- **GitHub Flow:** Простая модель с одной основной веткой (main или master) и feature-ветками. Подходит для небольших проектов с непрерывной поставкой (continuous delivery).
- **Gitflow:** Более сложная модель с ветками master, develop, feature/*, release/*, hotfix/*. Подходит для проектов с четким циклом релизов.
- **Trunk-Based Development:** Разработка ведется в одной основной ветке (trunk или main). Подходит для очень опытных команд с высоким уровнем автоматизации тестирования.
- **Упрощенный Gitflow (с двумя основными ветками):** Компромиссный вариант между GitHub Flow и Gitflow. Используются две долгоживущие ветки: master (для production) и develop (для интеграции).
    

**3. Решение:**

Выбираем **упрощенный Gitflow (с двумя основными ветками)**.

**4. Обоснование решения:**

- **Простота:** Этот подход проще, чем полноценный Gitflow, и легче для понимания начинающими разработчиками.
- **Две основные ветки:**
    - master: Содержит стабильный код, готовый к развертыванию в production (на сервере заказчика). Прямые коммиты в master запрещены.
    - dev: Основная ветка для разработки. Сюда сливаются все feature-ветки.
- **Feature-ветки:**
    - Для каждой новой задачи (feature, bugfix) создается отдельная ветка от develop.
    - Именование веток: feature/[краткое-описание-задачи] (feature/add-filters, feature/telegram-bot-reg), bugfix/[краткое-описание-бага] (bugfix/face-recognition-timeout).
    - После завершения работы над задачей feature-ветка сливается в develop (через pull request).
- **Pull Requests (PR):**
    - Обязательное использование Pull Requests для слияния feature-веток в develop.
    - Code Review (проверка кода другими членами команды) обязателен перед слиянием PR.
    - В описании PR обязательно указывать номер задачи (из таск-трекера) и краткое описание изменений.
- **Релизы:**
    - Релизы (развертывание на production-сервере) выполняются из ветки master.
    - Перед релизом ветка develop сливается в master (через pull request).
    - После релиза создавается тег (tag) в Git с номером версии (например, v1.0.0, v1.1.0).
